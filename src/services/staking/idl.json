{"version":"0.1.0","name":"zero_sided_snipe","instructions":[{"name":"initializeStakingPool","accounts":[{"name":"admin","isMut":true,"isSigner":true},{"name":"stakingPool","isMut":true,"isSigner":false},{"name":"programAuthority","isMut":false,"isSigner":false},{"name":"escrowTokenAccount","isMut":true,"isSigner":false},{"name":"tokenMint","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"initializeTreasury","accounts":[{"name":"admin","isMut":true,"isSigner":true},{"name":"stakingPool","isMut":false,"isSigner":false},{"name":"programAuthority","isMut":false,"isSigner":false},{"name":"treasuryAccount","isMut":true,"isSigner":false},{"name":"tokenMint","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"stake","accounts":[{"name":"staker","isMut":true,"isSigner":true},{"name":"stakingPool","isMut":true,"isSigner":false},{"name":"userStakingAccount","isMut":true,"isSigner":false},{"name":"programAuthority","isMut":false,"isSigner":false},{"name":"escrowTokenAccount","isMut":true,"isSigner":false},{"name":"stakerTokenAccount","isMut":true,"isSigner":false},{"name":"tokenMint","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"unstake","accounts":[{"name":"staker","isMut":true,"isSigner":true},{"name":"stakingPool","isMut":true,"isSigner":false},{"name":"userStakingAccount","isMut":true,"isSigner":false},{"name":"governanceAccount","isMut":false,"isSigner":false,"isOptional":true},{"name":"programAuthority","isMut":false,"isSigner":false},{"name":"escrowTokenAccount","isMut":true,"isSigner":false},{"name":"stakerTokenAccount","isMut":true,"isSigner":false},{"name":"tokenMint","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"initializeGovernanceAccount","accounts":[{"name":"staker","isMut":true,"isSigner":true},{"name":"governanceAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"initializeGovernanceConfig","accounts":[{"name":"authority","isMut":true,"isSigner":true},{"name":"governanceConfig","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"calculateVotingPower","accounts":[{"name":"staker","isMut":false,"isSigner":true},{"name":"userStakingAccount","isMut":false,"isSigner":false},{"name":"governanceAccount","isMut":true,"isSigner":false}],"args":[],"returns":"u64"},{"name":"initializeProposalEscrow","accounts":[{"name":"admin","isMut":true,"isSigner":true},{"name":"stakingPool","isMut":false,"isSigner":false},{"name":"programAuthority","isMut":false,"isSigner":false},{"name":"proposalEscrow","isMut":true,"isSigner":false},{"name":"tokenMint","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"createProposal","accounts":[{"name":"proposer","isMut":true,"isSigner":true},{"name":"proposerStakingAccount","isMut":false,"isSigner":false},{"name":"proposerGovernanceAccount","isMut":false,"isSigner":false},{"name":"proposalAccount","isMut":true,"isSigner":false},{"name":"stakingPool","isMut":false,"isSigner":false},{"name":"programAuthority","isMut":false,"isSigner":false},{"name":"proposerTokenAccount","isMut":true,"isSigner":false},{"name":"depositEscrowAccount","isMut":true,"isSigner":false},{"name":"depositTokenMint","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"proposalId","type":"u64"},{"name":"title","type":"string"},{"name":"description","type":"string"},{"name":"proposalType","type":{"defined":"ProposalType"}},{"name":"executionData","type":"bytes"},{"name":"votingPeriod","type":"u8"}]},{"name":"castVote","accounts":[{"name":"voter","isMut":true,"isSigner":true},{"name":"userStakingAccount","isMut":false,"isSigner":false},{"name":"governanceAccount","isMut":true,"isSigner":false},{"name":"proposalAccount","isMut":true,"isSigner":false},{"name":"voteRecord","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"voteChoice","type":{"defined":"VoteChoice"}}]},{"name":"finalizeProposal","accounts":[{"name":"finalizer","isMut":true,"isSigner":true},{"name":"proposalAccount","isMut":true,"isSigner":false},{"name":"stakingPool","isMut":false,"isSigner":false},{"name":"programAuthority","isMut":false,"isSigner":false},{"name":"depositEscrowAccount","isMut":true,"isSigner":false},{"name":"proposerTokenAccount","isMut":true,"isSigner":false},{"name":"tokenMint","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"executeProposal","accounts":[{"name":"executor","isMut":true,"isSigner":true},{"name":"proposalAccount","isMut":true,"isSigner":false},{"name":"stakingPool","isMut":false,"isSigner":false},{"name":"programAuthority","isMut":false,"isSigner":false},{"name":"depositEscrowAccount","isMut":true,"isSigner":false},{"name":"proposerTokenAccount","isMut":true,"isSigner":false},{"name":"depositTokenMint","isMut":false,"isSigner":false},{"name":"tokenProgramForDeposit","isMut":false,"isSigner":false},{"name":"governanceConfig","isMut":true,"isSigner":false},{"name":"treasuryAccount","isMut":true,"isSigner":false,"isOptional":true},{"name":"recipientAccount","isMut":true,"isSigner":false,"isOptional":true},{"name":"tokenMint","isMut":false,"isSigner":false,"isOptional":true},{"name":"tokenProgram","isMut":false,"isSigner":false,"isOptional":true}],"args":[]}],"accounts":[{"name":"StakingPool","type":{"kind":"struct","fields":[{"name":"authority","type":"publicKey"},{"name":"authorityBump","type":"u8"},{"name":"initializer","type":"publicKey"},{"name":"totalStakedAmount","type":"u64"},{"name":"mintAddress","type":"publicKey"},{"name":"escrowAccount","type":"publicKey"},{"name":"bump","type":"u8"},{"name":"createdAt","type":"i64"},{"name":"isActive","type":"bool"},{"name":"tokenPriceUsdMicro","type":"u64"},{"name":"priceLastUpdated","type":"i64"}]}},{"name":"UserStakingAccount","type":{"kind":"struct","fields":[{"name":"staker","type":"publicKey"},{"name":"stakedAmount","type":"u64"},{"name":"timestamp","type":"i64"},{"name":"lastUpdated","type":"i64"},{"name":"bump","type":"u8"}]}},{"name":"GovernanceAccount","type":{"kind":"struct","fields":[{"name":"staker","type":"publicKey"},{"name":"participationCount","type":"u32"},{"name":"lastVoteTimestamp","type":"i64"},{"name":"stakeLockEnd","type":"i64"},{"name":"votingPowerCache","type":"u64"},{"name":"createdAt","type":"i64"},{"name":"bump","type":"u8"}]}},{"name":"ProposalAccount","type":{"kind":"struct","fields":[{"name":"proposalId","type":"u64"},{"name":"proposer","type":"publicKey"},{"name":"title","type":"string"},{"name":"description","type":"string"},{"name":"proposalType","type":{"defined":"ProposalType"}},{"name":"status","type":{"defined":"ProposalStatus"}},{"name":"executionData","type":"bytes"},{"name":"votingPeriodDays","type":"u8"},{"name":"createdAt","type":"i64"},{"name":"votingEndsAt","type":"i64"},{"name":"finalizedAt","type":"i64"},{"name":"executedAt","type":"i64"},{"name":"timelockEnd","type":"i64"},{"name":"yesVotes","type":"u64"},{"name":"noVotes","type":"u64"},{"name":"abstainVotes","type":"u64"},{"name":"totalVoters","type":"u32"},{"name":"depositAmount","type":"u64"},{"name":"depositRefunded","type":"bool"},{"name":"bump","type":"u8"},{"name":"reserved","type":{"array":["u8",32]}}]}},{"name":"VoteRecord","type":{"kind":"struct","fields":[{"name":"voter","type":"publicKey"},{"name":"proposalId","type":"u64"},{"name":"voteChoice","type":{"defined":"VoteChoice"}},{"name":"votingPower","type":"u64"},{"name":"votedAt","type":"i64"},{"name":"bump","type":"u8"}]}},{"name":"GovernanceConfig","type":{"kind":"struct","fields":[{"name":"authority","type":"publicKey"},{"name":"quorumPercentage","type":"u64"},{"name":"passingThreshold","type":"u64"},{"name":"timelockDuration","type":"i64"},{"name":"minStakeToPropose","type":"u64"},{"name":"proposalDeposit","type":"u64"},{"name":"createdAt","type":"i64"},{"name":"lastUpdated","type":"i64"},{"name":"bump","type":"u8"},{"name":"reserved","type":{"array":["u8",32]}}]}}],"types":[{"name":"ProposalType","type":{"kind":"enum","variants":[{"name":"Text"},{"name":"TreasuryTransfer"},{"name":"ParameterUpdate"}]}},{"name":"ProposalStatus","type":{"kind":"enum","variants":[{"name":"Active"},{"name":"Passed"},{"name":"Failed"},{"name":"Executed"},{"name":"Cancelled"},{"name":"ExecutionFailed"},{"name":"EmergencyCancelled"}]}},{"name":"VoteChoice","type":{"kind":"enum","variants":[{"name":"Yes"},{"name":"No"},{"name":"Abstain"}]}}],"errors":[{"code":6000,"name":"InsufficientStakeAmount","msg":"Stake amount below minimum requirement"},{"code":6001,"name":"UnauthorizedStaker","msg":"User does not own this staking account"},{"code":6002,"name":"InsufficientStakedBalance","msg":"Insufficient staked balance for unstaking"},{"code":6003,"name":"PoolNotActive","msg":"Staking pool is not active"},{"code":6004,"name":"InvalidTokenMint","msg":"Invalid token mint address"},{"code":6005,"name":"InvalidTokenProgram","msg":"Must use Token 2022 program"},{"code":6006,"name":"InvalidAmount","msg":"Invalid amount - must be greater than 0"},{"code":6007,"name":"PoolAlreadyInitialized","msg":"Pool already initialized"},{"code":6008,"name":"Unauthorized","msg":"Unauthorized - only admin can perform this action"},{"code":6009,"name":"InvalidPrice","msg":"Invalid price - must be between 100 and 10,000,000 micro-USD"},{"code":6010,"name":"StalePrice","msg":"Price is stale - admin must update token price"},{"code":6011,"name":"TokensLockedForGovernance","msg":"Tokens are currently locked for governance participation"},{"code":6012,"name":"InsufficientStakeToPropose","msg":"Insufficient stake amount to create proposal - minimum 100 ZSNIPE tokens must be staked"},{"code":6013,"name":"InsufficientStakeDurationToPropose","msg":"Insufficient stake duration to create proposal - minimum 30 days required"},{"code":6014,"name":"InsufficientDepositToPropose","msg":"Insufficient deposit - 1000 ZSNIPE tokens required to create a proposal"},{"code":6015,"name":"MaxActiveProposalsReached","msg":"Maximum Active proposals reached - You have 3 active proposals already"},{"code":6016,"name":"ProposalTitleTooLong","msg":"Proposal title too long - Max 100 Characters"},{"code":6017,"name":"ProposalDescriptionTooLong","msg":"Proposal description too long - max 1000 characters"},{"code":6018,"name":"ExecutionDataTooLarge","msg":"Execution data too large - max 500 bytes"},{"code":6019,"name":"InvalidVotingPeriod","msg":"Invalid voting period - must be 3, 7, or 14 days"},{"code":6020,"name":"ProposalNotActive","msg":"Proposal is not active - cannot vote"},{"code":6021,"name":"VotingPeriodEnded","msg":"Voting period has ended"},{"code":6022,"name":"InsufficientStakeDurationToVote","msg":"Insufficient stake duration to vote - minimum 30 days required"},{"code":6023,"name":"VotingPowerNotCalculated","msg":"Voting power not calculated - call calculate_voting_power first"},{"code":6024,"name":"AlreadyVoted","msg":"Already voted on this proposal - vote changes not allowed"},{"code":6025,"name":"VotingPeriodNotEnded","msg":"Voting period has not ended yet"},{"code":6026,"name":"ProposalAlreadyFinalized","msg":"Proposal has already been finalized"},{"code":6027,"name":"InvalidProposerAccount","msg":"Invalid proposer token account"},{"code":6028,"name":"ProposalNotPassed","msg":"Proposal has not passed - cannot execute"},{"code":6029,"name":"TimelockNotExpired","msg":"Timelock period has not expired yet"},{"code":6030,"name":"ProposalAlreadyExecuted","msg":"Proposal has already been executed"},{"code":6031,"name":"InvalidExecutionData","msg":"Invalid execution data format"},{"code":6032,"name":"MissingTreasuryAccount","msg":"Missing treasury account for treasury transfer"},{"code":6033,"name":"MissingRecipientAccount","msg":"Missing recipient account for treasury transfer"},{"code":6034,"name":"MissingTokenMint","msg":"Missing token mint for treasury transfer"},{"code":6035,"name":"MissingTokenProgram","msg":"Missing token program for treasury transfer"},{"code":6036,"name":"MissingGovernanceConfig","msg":"Missing governance config for parameter update"},{"code":6037,"name":"InsufficientTreasuryBalance","msg":"Insufficient treasury balance for transfer"},{"code":6038,"name":"InvalidParameterId","msg":"Invalid parameter ID"},{"code":6039,"name":"InvalidParameterValue","msg":"Invalid parameter value - out of acceptable range"},{"code":6040,"name":"GovernanceConfigNotInitialized","msg":"Governance config not initialized yet"},{"code":6041,"name":"InvalidGovernanceConfig","msg":"Invalid governance config"}]}